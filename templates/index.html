{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<form method="get">
    <div class="row">
        <div class="col-sm-12 col-lg-6">
            <label>Region</label>

            {{ filter.form.regions }}
        </div>
        <div class="col-sm-12 col-lg-6">
            <label>District</label>
            {{ filter.form.districts }}
        </div>
        <div class="col-sm-12 d-flex justify-content-center my-3">
                {{ filter.form.title }}
            <button type="submit"
                    class="btn btn-danger mx-1 search-button"><i
                    class="fa fa-search"></i></button>
        </div>

    </div>
</form>
<div class="row main-container">
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>#</th>
            <th>Medicine</th>
             <th>Type</th>
            <th>Pharmacy</th>
            <th>Phone Number</th>
            <th>Price</th>
            <th>Location</th>
            <th>Working hours</th>
            <th>Detail</th>
        </tr>
        </thead>
        <tbody>
        {% for object in object_list %}
        <tr>
            <td>{{ page_obj.start_index|add:forloop.counter0 }}</td>
            <td>{{object.medicine.title}}</td>
            <td>{{object.medicine.medicine_type}}</td>
            <td>{{object.pharmacy.name}}</td>
            <td>{{object.pharmacy.phone_number}}</td>
            <td>{{object.price}}</td>
            <td>{{object.pharmacy.district.name}}</td>
            {% if object.pharmacy.works_day_and_night %}
                <td>24/7</td>
            {% else %}
                <td>{{object.pharmacy.work_from}}-{{object.pharmacy.work_to}}</td>
            {% endif %}
            <td><a href="{% url "medicines:detail" object.pk %}"><i class="fas fa-info-circle"></i></a></td>


        </tr>
        {% empty %}
         <tr>
             <td colspan="7"><h3>Sorry Medicine Not found</h3></td>
         </tr>
        {% endfor%}

        </tbody>
    </table>
    {% include "pagination.html" %}

</div>
{% endblock %}
{% block additional_js %}
  <script src="{% static "local/js/district_list.js" %}"></script>
{% endblock %}
